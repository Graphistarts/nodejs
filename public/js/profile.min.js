$(document).ready(function(){var e=!1,t=!1,n=new Array;$.ajax({url:"/api/session/",type:"get",success:function(t){e="true"==t.edit,$.ajax({url:"/api/user-interests/"+t.userID,type:"get",success:function(e){for(var t=e.length-1;t>=0;t--)n.push(e[t].INTEREST)}})}}),$(".edit-profile").on("click",function(e){$.ajax({url:"/edit/true",type:"post",success:function(e){location.reload()}})}),$(".cancel-profile").on("click",function(e){t=!0,$.ajax({url:"/edit/false",type:"post",success:function(e){location.reload()}})}),$(".add-friend").on("click",function(e){e.preventDefault(),$.ajax({url:$(this).attr("href"),type:"get",success:function(e){console.log(e)}})}),$(".save-profile").on("click",function(e){console.log(n),$.ajax({url:"/update-interests",data:{interests:n},type:"POST"});var t=$("form");t.submit(function(){var e=new FormData($("form")[0]);return $.ajax({url:$(this).attr("action"),data:e,processData:!1,contentType:!1,type:"POST",success:function(e){$.ajax({url:"/edit/false",type:"post",success:function(e){location.reload()}})},error:function(e){alert(e)}}),!1})}),$("body").on("click",".interests .editable",function(e){var t=$(this).text(),s=n.indexOf(t);s>-1&&n.splice(s,1),$(this).remove()}),$(".submit-add-interest").on("click",function(e){var t=$(".add-interest"),s="<li class='editable'>"+t.val()+"</li>";$(".interests ul").append(s),n.push(t.val()),t.val(""),console.log(n)}),$(".add-friend").on("click",function(e){var t='<span class="friend">Request sent</span>';$(this).replaceWith(t)}),$(".helper").on("click",function(e){$(".helper .content").toggleClass("show")})});